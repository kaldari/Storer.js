<!doctype html>
<!-- The Time Machine GitHub pages theme was designed and developed by Jon Rohan, on Feb 7, 2012. -->
<!-- Follow him for fun. http://twitter.com/jonrohan. Tail his code on http://github.com/jonrohan -->
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <link rel="stylesheet" href="stylesheets/stylesheet.css" media="screen"/>
  <link rel="stylesheet" href="stylesheets/pygment_trac.css"/>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script type="text/javascript" src="javascripts/script.js"></script>

  <title>Storer.js</title>
  <meta name="description" content="Storer.js - HTML5 Web Storage for Any Browser">

  <meta name="viewport" content="width=device-width,initial-scale=1">

</head>

<body>

  <div class="wrapper">
    <header>
      <h1 class="title">Storer.js</h1>
    </header>
    <div id="container">
      <p class="tagline">Storer.js - HTML5 Web Storage for Any Browser</p>
      <div id="main" role="main">
        <div class="download-bar">
        <div class="inner">
          <a href="https://github.com/viafoura/Storer.js/tarball/master" class="download-button tar"><span>Download</span></a>
          <a href="https://github.com/viafoura/Storer.js/zipball/master" class="download-button zip"><span>Download</span></a>
          <a href="https://github.com/viafoura/Storer.js" class="code">View Storer.js on GitHub</a>
        </div>
        <span class="blc"></span><span class="trc"></span>
        </div>
        <article class="markdown-body">
          <h1>Storer.js - HTML5 Web Storage for Any Browser</h1>

<p>Originally written for <a href="http://viafoura.com/" title="Viafoura is an audience engagement platform for publishers">Viafoura</a> by <a href="https://github.com/shahyar">Shahyar G</a>, released for public consumption by Viafoura, Inc.</p>

<h2>Introduction</h2>

<p>Storer.js is a fallback-reliant, HTML5 Storage-based storage system. It implements a completely cross-browser-compatible system with implementations of <code>localStorage</code>, <code>sessionStorage</code>, <code>cookieStorage</code>, and <code>memoryStorage</code>.</p>

<p>All of its storage subsystems implement <code>getItem</code>, <code>setItem</code>, <code>removeItem</code>, <code>clear</code>, <code>key</code>, and <code>length</code>, as the HTML5 Web Storage specification is written. However, there are some enhancements on these methods, and slight deviations from it with <code>memoryStorage</code> and <code>cookieStorage</code>.</p>

<h2>How it works</h2>

<p>It piggybacks on the real HTML5 storage when available, and creates the additional functionality of being able to prepend a 'prefix' to all key names automatically (see initStorer params). This is useful for projects where you would like to use Storage without worrying about name collisions.</p>

<p>It <em>always</em> returns every type of storage, and falls back to others, as listed below. In the worst-case scenario, all the storage subsystems are instances of memoryStorage, which means no persistance is available, but that no code will break while performing actions on the current page.</p>

<p>The fallbacks are as follows:</p>

<pre><code>localStorage   = localStorage   || userData    || cookieStorage || memoryStorage;
sessionStorage = sessionStorage || window.name || memoryStorage;
cookieStorage  = cookieStorage  || memoryStorage;
memoryStorage  = memoryStorage
</code></pre>

<p>cookieStorage also supports an additional 'global' Boolean argument on all of its methods, allowing you to escape out of the 'prefix' defined, so that you may use it to fetch general cookies as well.</p>

<h2>Usage</h2>

<p><code>initStorer</code> is called, takes a callback function, which will return the storage subsystems. Why? This is necessary because the Internet Explorer 7- fallback for <code>localStorage</code> is <code>userData</code>, which needs to be able to insert an element into the document before proceeding. On any modern (or non-IE7) browser, the callback function is triggered synchronously and immediately. There is no delay at all in this scenario. <strong>domReady or jQuery is required for userData functionality in IE7 or lower.</strong></p>

<p>In a worst-case scenario, all of the storages are <code>memoryStorage</code>, which means the data will not persist across pages. In a best-case scenario, each of the storage types are implemented using native <code>sessionStorage</code> and <code>localStorage</code> with cookie support as well with <code>cookieStorage</code>.</p>

<h3>Examples</h3>

<p>Using callback and a custom prefix (callback supports IE7 and lower):</p>

<pre><code>initStorer(function (Storer) {
    cookieStorage  = Storer.cookieStorage;
    memoryStorage  = Storer.memoryStorage;
    sessionStorage = Storer.sessionStorage;
    localStorage   = Storer.localStorage;
}, { 'prefix': '_MyStorage_' });
</code></pre>

<p>Using return (return does not support localStorage in IE7):</p>

<pre><code>var Storer = initStorer();
</code></pre>

<h3>Arguments for <code>initStorer</code>
</h3>

<pre><code>initStorer([Function callback[, Object params]]);
</code></pre>

<h4>Function <code>callback(Object Storer)</code>
</h4>

<p>The callback function to call once the storage has been initialized. In most modern browsers, it is called synchronously. In older versions of IE that require the use of userData for localStorage, it is triggered asynchronously once the page has loaded.</p>

<p>It returns an Object called Storer, which contains cookieStorage, localStorage, memoryStorage, and sessionStorage.</p>

<h4>Object <code>params</code>
</h4>

<pre><code>{String} [prefix='']         automatic key prefix for sessionStorage and localStorage
{String} [default_domain=''] default domain for cookies
{String} [default_path='']   default path for cookies
</code></pre>

<h3>Important notice regarding dependencies</h3>

<p>For Internet Explorer 7 and lower, initStorer requires a function called domReady, or uses jQuery(document).ready if available. If no function is found, localStorage will silently fail and is not usable in old IE browsers. <code>domReady</code> is included in the dependencies subdirectory of this repository. <em>(In a future revision, this functionality may fall back to cookieStorage when no such function is present.)</em></p>

<h2>License</h2>

<p>Creative Commons Attribution 3.0 Unported (CC BY 3.0). <a href="http://creativecommons.org/licenses/by/3.0/">http://creativecommons.org/licenses/by/3.0/</a>
It's free. All we ask is that you maintain the <a href="https://github.com/copyright" class="user-mention">@copyright</a> and <a href="https://github.com/author" class="user-mention">@author</a> comments in the code. Nothing else is necessary.</p>

<h2>Addendum</h2>

<p>Here is a cat. =^.^= His name is Frisbee.</p>

<p>-- Copyright (c) 2011 Viafoura, Inc.</p>
        </article>
      </div>
    </div>
    <footer>
      <div class="owner">
      <p><a href="https://github.com/shahyar" class="avatar"><img src="https://secure.gravatar.com/avatar/d71c3066c92404dd59802fa68294f962?s=30&amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png" width="48" height="48"/></a> <a href="https://github.com/shahyar">shahyar</a> maintains <a href="https://github.com/viafoura/Storer.js">Storer.js</a></p>
      </div>
      <div class="creds">
        <small>This page generated using <a href="https://pages.github.com/">GitHub Pages</a><br/>theme by <a href="http://twitter.com/jonrohan/">Jon Rohan</a></small>
      </div>
    </footer>
  </div>
  <div class="current-section">
    <a href="#top">Scroll to top</a>
    <a href="https://github.com/viafoura/Storer.js/tarball/master" class="tar">tar</a><a href="https://github.com/viafoura/Storer.js/zipball/master" class="zip">zip</a><a href="" class="code">source code</a>
    <p class="name"></p>
  </div>

  
</body>
</html>
